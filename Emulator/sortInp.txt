DATA SEGMENT
    ARR DW 5 DUP(?)        ; space for 5 numbers
    LEN DW 5

    MSG1 DB 10,13,'Enter 5 HEX numbers (4 digits each):$'
    MSG_DONE DB 10,13,'Sorting Done!$'
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE, DS:DATA

START:
    MOV AX, DATA
    MOV DS, AX

    LEA DX, MSG1
    MOV AH, 09H
    INT 21H

    ; Read 5 hex numbers from user
    MOV CX, LEN
    LEA DI, ARR
READ_LOOP:
	MOV BX, 0
	MOV SI, 4
READ_DIGITS:
	MOV AH, 01H
	INT 21H
	
	CMP AL, '9'
	JG LETTER
	SUB AL, '0'
	JMP NEXT
LETTER:
	SUB AL, 37H
NEXT:
	SHL BX, 4
	ADD BL, AL
	DEC SI
	JNZ READ_DIGITS
	
	MOV [DI], BX
	ADD DI, 2
	LOOP READ_LOOP

    ; --- SORTING ---
    MOV CX, LEN
    DEC CX

OUTER_LOOP:
    LEA SI, ARR
    MOV DX, CX

INNER_LOOP:
    MOV AX, [SI]
    CMP AX, [SI+2]
    JBE NOSWAP

    XCHG AX, [SI+2]
    MOV [SI], AX

NOSWAP:
    ADD SI, 2
    DEC DX
    JNZ INNER_LOOP

    LOOP OUTER_LOOP

    ; Print done message
    LEA DX, MSG_DONE
    MOV AH, 09H
    INT 21H

    ; Exit
    MOV AH, 4CH
    INT 21H

CODE ENDS
END START
